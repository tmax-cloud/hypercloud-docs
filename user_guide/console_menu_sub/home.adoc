= [홈] 메뉴
:toc:
:toc:
:toc-title:

*[홈]* 메뉴는 클러스터의 상태 정보를 모니터링할 수 있는 메뉴이다.
[width="100%",options="header", cols="1,3"]
|====================
|하위 메뉴|기능
|개요|클러스터의 현재 상태 정보를 확인
|네임스페이스|동일한 물리 클러스터에서 다중의 가상 클러스터를 지원하기 위한 논리적 분리 단위인 "네임스페이스" 및 네임스페이스 생성을 위한 요구 사항을 정의하는 "네임스페이스 클레임"의 생성 및 조회
|검색|HyperCloud의 모든 리소스를 검색
|감사 로그|리소스의 생성 및 변경 정보(리소스 이름, 계정, 액션, 코드)를 데이터베이스에 저장하여 특정 조건에 해당하는 정보만 조회 
|이벤트|네임스페이스에서 발생한 이벤트를 실시간으로 조회 (최대 1시간)
|ArgoCD|Hypercloud 애플리케이션 배포 및 지속적인 관리 
|그라파나|선택한 네임스페이스의 파드 정보를 모니터링
|키바나|수집된 데이터를 시각화하여 다양한 형태의 차트로 확인
(QA: 키바나 메뉴 삭제)
|관리 GitLab|HyperCloud 클러스터에 내장된 GitLab을 이용하여 개발자 콘솔의 소스 코드를 관리
|이미지 레지스트리|컨테이너 이미지를 제공하는 레지스트리 및 멀티 테넌트 방식의 레지스트리를 관리
|====================

본 장에서는 하위 메뉴의 화면 구성과 기능에 대해서 설명한다.

== 개요

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[개요]* 메뉴를 선택하면 *개요* 메인 화면으로 이동한다. +
*개요* 메인 화면에서는 클러스터의 현재 상태 정보를 확인할 수 있다.

image::../images/figure_admin_status_main.png[]

각 영역에 대한 설명은 다음과 같다.

<1> *상세* +
HyperCloud에서 사용하는 호환 제품들의 버전 정보를 확인할 수 있다.

<2> *상태* +
전체 시스템을 관리하고 통제하는 컨트롤 플레인의 주요 구성 요소인 API 서버, 컨트롤러 관리자, 스케줄러 등의 응답률을 확인할 수 있다.

<3> *클러스터 사용* +
모든 노드에 할당된 자원(CPU, 메모리, 파일 시스템, 네트워크, 파드)의 사용량을 확인할 수 있다. 

<4> *주요 리소스 및 클레임* +
클러스터에 구성된 노드, 파드, 서비스, 영구 볼륨 클레임, 네임스페이스 클레임, 리소스 쿼타 클레임의 수를 확인할 수 있다.

<5> *활동* +
클러스터에서 현재 진행 중이거나 최근에 발생한 이벤트를 확인할 수 있다. +
이때 해당 영역 오른쪽 상단의 **[이벤트 보기]**를 클릭하면 *[홈]* -> *[이벤트]* 화면이 열리고, 해당 클러스터에서 발생한 모든 이벤트 이력을 확인할 수 있다.

== 네임스페이스

=== [네임스페이스] 탭

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[네임스페이스]* 메뉴를 선택하면 *네임스페이스* 메인 화면으로 이동한다. +
*네임스페이스* 메인 화면의 *[네임스페이스]* 탭에서는 동일한 물리 클러스터에서 다중의 가상 클러스터를 지원하기 위한 논리적 분리 단위인 ``네임스페이스``를 생성 및 조회할 수 있다.

//[caption="그림. "] //캡션 제목 변경
[#img-namespace-main]
image::../images/figure_admin_namespace_main.png[]

각 영역에 대한 설명은 다음과 같다.

<1> *생성 버튼* +
새로운 네임스페이스를 폼 에디터 또는 YAML 에디터를 사용해 생성한다.

<2> *검색 조건 (레이블, 이름)* +
네임스페이스의 이름 및 레이블 정보를 입력해서 검색한다. +
우선 검색 조건으로 "이름" 또는 "레이블"을 선택한 후 입력란에 검색어를 입력한다.

<3> *네임스페이스 목록* +
클러스터에 생성된 네임스페이스 목록을 확인할 수 있다. +
다음은 각 항목에 대한 설명이다.
+
[width="100%",options="header", cols="1,3a"]
|====================
|항목|설명  
|이름|네임스페이스의 이름이다. 이때 이름을 클릭하면 해당 네임스페이스의 상세 정보를 확인할 수 있는 화면이 열린다.
|상태|네임스페이스의 현재 사용 여부를 표시한다.

* Active : 사용 중
* Terminating : 삭제 중
|생성 시간|네임스페이스가 생성된 시간이다.
|레이블|네임스페이스에 추가된 레이블 정보이다.
|image:../images/figure_action_icon.png[]|네임스페이스의 관리를 위한 메뉴를 사용할 수 있다. +
이때 제공하는 메뉴는 다음과 같다.

* 레이블 수정 : 리소스의 식별을 위한 레이블을 추가, 삭제
* 주석 수정 : 리소스를 외부에서 참조하여 사용하기 위한 주석을 추가, 수정, 삭제
* 네임스페이스 수정 : 네임스페이스의 구성 정보를 수정
* 네임스페이스 삭제 : 네임스페이스를 삭제
|====================

=== [네임스페이스 클레임] 탭

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[네임스페이스]* 메뉴를 선택하면 *네임스페이스* 메인 화면으로 이동한다. +
*네임스페이스* 메인 화면의 *[네임스페이스 클레임]* 탭에서는 네임스페이스 생성을 위한 요구 사항을 정의하는 ``네임스페이스 클레임``을 생성 및 조회할 수 있다.

//[caption="그림. "] //캡션 제목 변경
[#img-namespace-claim-main]
image::../images/figure_admin_namespace_claim_main.png[]

각 영역에 대한 설명은 다음과 같다.

<1> *생성 버튼* +
새로운 네임스페이스 클레임을 폼 에디터 또는 YAML 에디터를 사용해 생성한다.

<2> *검색 조건 (상태)* +
네임스페이스 클레임의 상태 정보를 선택해서 검색한다. 이때 다중선택도 가능하다.

<3> *검색 조건 (레이블, 이름)* +
네임스페이스 클레임의 이름 및 레이블 정보를 입력해서 검색한다. +
우선 검색 조건으로 "이름" 또는 "레이블"을 선택한 후 입력란에 검색어를 입력한다.

<4> *네임스페이스 클레임 목록* +
클러스터에 생성된 네임스페이스 클레임 목록을 확인할 수 있다. +
다음은 각 항목에 대한 설명이다.
+
[width="100%",options="header", cols="1,3a"]
|====================
|항목|설명  
|이름|네임스페이스 클레임의 이름이다. 이때 이름을 클릭하면 해당 네임스페이스 클레임의 상세 정보를 확인할 수 있는 화면이 열린다.
|리소스 이름|네임스페이스 클레임을 통해 실제 생성될 네임스페이스의 이름이다.
|상태|네임스페이스 클레임의 현재 승인 상태 정보이다.

* Awaiting : 클레임에 대한 허가를 기다리는 상태
* Approved : 클레임이 허가된 상태
* Rejected : 클레임이 거절된 상태
* Namespace Deleted : 클레임을 통해 생성된 네임스페이스가 삭제된 상태
* Error : 네임스페이스 생성에 실패한 상태
|사용자 이름|네임스페이스 클레임을 생성한 사용자의 이름이다.
|생성 시간|네임스페이스 클레임이 생성된 시간이다.
|image:../images/figure_action_icon.png[]|네임스페이스 클레임의 관리를 위한 메뉴를 사용할 수 있다. +
이때 제공하는 메뉴는 다음과 같다.

* 레이블 수정 : 리소스의 식별을 위한 레이블을 추가, 삭제
* 주석 수정 : 리소스를 외부에서 참조하여 사용하기 위한 주석을 추가, 수정, 삭제
* 네임스페이스 클레임 수정 : 네임스페이스 클레임의 구성 정보를 수정
* 네임스페이스 클레임 삭제 : 네임스페이스 클레임을 삭제
* 승인 처리 : 네임스페이스 클레임의 승인 여부를 선택 (단, 'Approved' 및 'Namespace Deleted' 상태일 경우 비활성화)

** Approved : 승인
** Rejected : 승인 거절
|====================
+
NOTE: 네임스페이스 클레임을 승인(Approved)할 경우 네임스페이스가 생성된다. 이때 동일한 이름의 네임스페이스가 이미 존재할 경우에는 네임스페이스가 새로 생성되지 않고, 승인이 거절된다.

== 검색

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[검색]* 메뉴를 선택하면 *검색* 메인 화면으로 이동한다. +
*검색* 메인 화면에서는 HyperCloud의 모든 리소스를 검색할 수 있다.

image::../images/figure_admin_search_main.png[]

각 영역에 대한 설명은 다음과 같다.

<1> *네임스페이스 선택* +
리소스를 검색할 네임스페이스를 선택한다.

<2> *검색 조건 (리소스 종류)* +
리소스의 종류를 선택해서 검색한다. 이때 다중선택도 가능하다.

<3> *검색 조건 (레이블, 이름)* +
리소스의 이름 및 레이블 정보를 입력해서 검색한다. +
우선 검색 조건으로 "이름" 또는 "레이블"을 선택한 후 입력란에 검색어를 입력한다.

<4> *필터 목록* +
현재 설정된 필터 목록이 표시된다. 이때 필터 목록에서 image:../images/figure_del_icon.png[] 아이콘을 클릭하면 해당 필터의 설정이 해제되고, **[모든 필터 지우기]**를 클릭하면 모든 필터의 설정이 해제된다.

<5> *리소스 생성 버튼* +
현재 선택된 리소스 종류에 해당하는 리소스를 새롭게 생성한다.

<6> *리소스 목록* +
모든 검색 조건에 해당하는 리소스 목록을 확인할 수 있다.

== 감사 로그

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[감사 로그]* 메뉴를 선택하면 *감사 로그* 메인 화면으로 이동한다. +
*감사 로그* 메인 화면에서는 리소스의 생성 및 변경 정보(리소스 이름, 계정, 액션, 코드)를 데이터베이스에 저장하여 특정 조건에 해당하는 정보만 조회할 수 있다.

image::../images/figure_admin_audit_main.png[]

각 영역에 대한 설명은 다음과 같다.

<1> *네임스페이스 선택* +
로그 정보를 확인할 네임스페이스를 선택한다.

<2> *검색 조건 (리소스 종류)* +
리소스의 종류를 선택해서 검색한다.

<3> *검색 조건 (액션 종류)* +
리소스에 발생한 액션의 종류를 선택해서 검색한다.

<4> *검색 조건 (상태)* +
리소스에 발생한 액션에 대한 결과 상태를 선택해서 검색한다.

<5> *검색 조건 (코드)* +
리소스 상태에 대한 결과 코드(HTTP Status Code)를 선택해서 검색한다.

<6> *검색 조건 (기간)* +
리소스에 액션이 발생한 시간을 선택해서 검색한다.

<7> *검색 조건 (계정 이름)* +
리소스에 액션이 발생할 당시 로그인된 사용자 계정의 이름을 입력해서 검색한다.

<8> *로그 목록* +
모든 검색 조건에 해당하는 로그 목록을 확인할 수 있다.

== 이벤트

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[이벤트]* 메뉴를 선택하면 *이벤트* 메인 화면으로 이동한다. +
*이벤트* 메인 화면에서는 네임스페이스에서 한 시간 동안 발생한 이벤트를 실시간으로 조회할 수 있다.

image::../images/figure_admin_event_main.png[]

각 영역에 대한 설명은 다음과 같다.

<1> *네임스페이스 선택* +
이벤트를 확인할 네임스페이스를 선택한다.

<2> *검색 조건 (리소스 종류)* +
리소스의 종류를 선택해서 검색한다.

<3> *검색 조건 (이벤트 종류)* +
리소스에 발생한 이벤트의 종류를 선택해서 검색한다.

<4> *검색 조건 (이름 및 이벤트 내용)* +
리소스의 이름 및 이벤트의 내용을 입력해서 검색한다.

<5> *검색 조건 (기간)* (TD: 내용 추가함. 검수 필요) +
조회 기간을 설정해서 검색한다.
+
* 실시간 : 한 시간 동안 발생한 이벤트를 실시간으로 확인
* 직접입력 : 사용자가 직접 조회할 기간을 설정하여 해당 기간에 발생한 이벤트만 확인

<6> *[정지]*/*[시작]* 버튼 +
image:../images/figure_pause_button.png[](정지) 버튼을 클릭하면 실시간으로 쌓이던 이벤트 목록이 일시 정지된다. 이때 image:../images/figure_start_button.png[](시작) 버튼을 클릭하면 이벤트 목록이 다시 실시간으로 쌓인다.

<7> *이벤트 목록* +
모든 검색 조건에 해당하는 이벤트 목록을 확인할 수 있다.

== ArgoCD (TD: 전체 내용 검수 필요)

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[ArgoCD]* 메뉴를 선택하면 *ArgoCD* 메인 화면으로 이동한다. +
*ArgoCD* 메인 화면에서는 애플리케이션의 배포 및 관리를 위한 기능을 제공한다. ArgoCD 툴의 사용 방법에 대한 자세한 설명은 link:https://argo-cd.readthedocs.io/en/stable/[ArgoCD 설명서]를 참고한다.

//[caption="그림. "] //캡션 제목 변경
[#img-argocd-main]
image::../images/figure_admin_argocd_main.png[]

== 그라파나

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[그라파나]* 메뉴를 선택하면 *그라파나* 메인 화면으로 이동한다. +
*그라파나* 메인 화면에서는 사용자가 선택한 네임스페이스의 파드 정보를 모니터링할 수 있다. 그라파나 툴의 사용 방법에 대한 자세한 설명은 link:https://grafana.com/docs/grafana/latest/getting-started/getting-started/[그라파나 설명서]를 참고한다.

//[caption="그림. "] //캡션 제목 변경
[#img-grafana-main]
image::../images/figure_admin_grafana_main.png[]

각 영역에 대한 설명은 다음과 같다.

<1> *그라파나 메뉴바* +
그라파나의 기본 홈 메뉴

<2> *네임스페이스 선택* +
모니터링할 대시보드의 정보

<3> *대시보드 공유* +
URL을 복사하거나, 대시보드를 JSON 파일로 내보내기

<4> *화면 모드 전환* +
대시보드 화면의 메뉴바를 제거하고, 그래프만 표시

<5> *조회 시간 설정* +
현재 시간 기준으로 조회할 데이터의 기간을 선택

<6> *조회 시간 확대* +
넓은 시간 대역의 대시보드를 조회

<7> *대시보드 갱신* +
대시보드를 수동으로 갱신

<8> *모니터링 정보* +
파드의 CPU, 메모리, 네트워크 사용량 정보를 모니터링

== 오픈서치 (TD: 전체 내용 검수 필요)

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[오픈서치]* 메뉴를 선택하면 *오픈서치* 메인 화면으로 이동한다. +
*오픈서치* 메인 화면에서는 로그 분석, 애플리케이션 검색 등 쉽게 데이터의 수집, 검색, 분석이 가능하다.
오픈서치 서비스의 사용 방법에 대한 자세한 설명은 link:https://opensearch.org/docs/latest//[오픈서치 설명서]를 참고한다.

(TD: 실제 데이터가 출력되는 화면이 캡처되었으면 좋겠습니다.)

//[caption="그림. "] //캡션 제목 변경
[#img-opensearch-main]
image::../images/figure_admin_opensearch_main.png[]

== 관리 GitLab

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[관리 GitLab]* 메뉴를 선택하면 *GitLab* 메인 화면으로 이동한다. +
*GitLab* 메인 화면에서는 개발자 콘솔의 소스 코드를 관리할 수 있다. GitLab의 사용 방법에 대한 자세한 설명은 link:https://docs.gitlab.com/[GitLab 설명서]를 참고한다.

//[caption="그림. "] //캡션 제목 변경
[#img-gitlab-main]
image::../images/figure_admin_gitlab_main.png[]

== 이미지 레지스트리

"마스터 클러스터" 콘솔 메뉴에서 *[홈]* -> *[이미지 레지스트리]* 메뉴를 선택하면 *HyperRegistry* 메인 화면으로 이동한다. +
*HyperRegistry* 메인 화면에서는 컨테이너 이미지를 제공하는 레지스트리 및 멀티 테넌트 방식의 레지스트리를 관리할 수 있다. HyperRegistry의 사용 방법에 대한 자세한 설명은 link:https://goharbor.io/docs/2.4.0/[Harbor 설명서]를 참고한다.

//[caption="그림. "] //캡션 제목 변경
[#img-hyper-registry-main]
image::../images/figure_admin_hyper_registry_main.png[]

NOTE: HyperRegistry 최초 접속 시 HyperRegistry 로그인 화면에서 *[LOGIN VIA OIDC PROVIDER]* 버튼을 클릭하여 로그인한다.
